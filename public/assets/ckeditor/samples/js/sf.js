var SF=function(){function e(e){return(e=e.attributes?e.attributes.getNamedItem("class"):null)?e.value.split(" "):[]}function a(e){var a=document.createAttribute("class");return a.value=e.join(" "),a}var t={attachListener:function(e,a,t){if(e.addEventListener)e.addEventListener(a,t,!1);else{if(!e.attachEvent)throw Error("Could not attach event.");e.attachEvent("on"+a,function(){t.apply(e,arguments)})}}};return t.indexOf=function(){var e=Array.prototype.indexOf;return"function"===e?function(a,t){return e.call(a,t)}:function(e,a){for(var t=e.length,i=0;i<t;i++)if(e[i]===a)return i;return-1}}(),t.accept=function(e,a){var i;e.children?(i=e.children,a(e)):"number"==typeof e.length&&(i=e);for(var n=i?i.length||0:0;n--;)t.accept(i[n],a)},t.getByClass=function(){var e=document.getElementsByClassName;return"function"==typeof e?function(a,t){return"string"==typeof a&&(t=a,a=document),e.call(a,t)}:function(e,a){"string"==typeof e&&(a=e,e=document.getElementsByTagName("html")[0]);var i=[];return t.accept(e,function(e){t.classList.contains(e,a)&&i.push(e)}),i}}(),t.classList={},t.classList.add=function(t,i){var n=e(t);n.push(i),t.attributes.setNamedItem(a(n))},t.classList.remove=function(i,n){var l=e(i,n),o=t.indexOf(l,n);-1!==o&&(l.splice(o,1),i.attributes.setNamedItem(a(l)))},t.classList.contains=function(a,i){return-1!==t.indexOf(e(a),i)},t.classList.toggle=function(e,a){this.contains(e,a)?this.remove(e,a):this.add(e,a)},t}();!function(){function e(e){for(var a in e)delete e[a]}SF.modal=function(a){function t(e){27==e.keyCode&&l.close()}a.modalClass="modal content",a.closeClass="modal-close",a.modalStyles=e,a.closeStyles=e;var i=a.afterCreate,n=a.afterClose;a.afterCreate=function(e){i&&i(e),window.addEventListener("keydown",t)},a.afterClose=function(e){n&&n(e),window.removeEventListener("keydown",t)};var l=new picoModal(a).afterCreate(a.afterCreate).afterClose(a.afterClose);return l}}(),function(){for(var e=SF.getByClass("toggler"),a=e.length;a--;)SF.attachListener(e[a],"click",function(){var e=SF.classList.contains(this,"icon-toggler-expanded")||SF.classList.contains(this,"icon-toggler-collapsed"),a=document.getElementById(this.getAttribute("data-for"));SF.classList.toggle(this,"collapsed"),SF.classList.contains(this,"collapsed")?(SF.classList.add(a,"collapsed"),e&&(SF.classList.remove(this,"icon-toggler-expanded"),SF.classList.add(this,"icon-toggler-collapsed"))):(SF.classList.remove(a,"collapsed"),e&&(SF.classList.remove(this,"icon-toggler-collapsed"),SF.classList.add(this,"icon-toggler-expanded")))})}(),function(){for(var e=SF.getByClass("tree-a"),a=e.length;a--;)SF.attachListener(e[a],"click",function(e){e=e.target||e.srcElement,"H2"!==e.nodeName||SF.classList.contains(e,"tree-a-no-sub")||SF.classList.toggle(e,"tree-a-active")})}(),function(e,a){function t(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function i(){var e=[];return{watch:e.push.bind(e),trigger:function(a){for(var t=!0,i={preventDefault:function(){t=!1}},n=0;n<e.length;n++)e[n](a,i);return t}}}function n(e){this.elem=e}function l(e,a){return n.div().clazz("pico-overlay").clazz(e("overlayClass","")).stylize({display:"block",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(e("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){e("overlayClose",!0)&&a()})}function o(e,a){var t=e("width","auto");return"number"==typeof t&&(t=""+t+"px"),n.div().clazz("pico-content").clazz(e("modalClass","")).stylize({display:"block",position:"fixed",zIndex:10001,left:"50%",top:"50px",width:t,"-ms-transform":"translateX(-50%)","-moz-transform":"translateX(-50%)","-webkit-transform":"translateX(-50%)","-o-transform":"translateX(-50%)",transform:"translateX(-50%)"}).stylize(e("modalStyles",{backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("role","dialog").onClick(function(e){new n(e.target).anyAncestor(function(e){return/\bpico-close\b/.test(e.elem.className)})&&a()})}function r(e){return function(){return e().elem}}function s(a){function n(e,t){var i=a[e];return"function"==typeof i&&(i=i(t)),void 0===i?t:i}function s(){y().hide(),v().hide(),k.trigger(S)}function d(){b.trigger(S)&&s()}function c(e){return function(){return e.apply(this,arguments),S}}function u(e){if(!m){var a,t=o(n,d),i=l(n,d);a=n("closeButton",!0)?t.child().html(n("closeHtml","&#xD7;")).clazz("pico-close").clazz(n("closeClass")).stylize(n("closeStyles",{borderRadius:"2px",cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})):void 0,m={modal:t,overlay:i,close:a},p.trigger(S)}return m[e]}("string"==typeof a||t(a))&&(a={content:a});var m,p=i(),g=i(),h=i(),b=i(),k=i(),v=u.bind(e,"modal"),y=u.bind(e,"overlay"),f=u.bind(e,"close"),S={modalElem:r(v),closeElem:r(f),overlayElem:r(y),show:function(){return g.trigger(S)&&(y().show(),f(),v().show(),h.trigger(S)),this},close:c(d),forceClose:c(s),destroy:function(){v=v().destroy(),y=y().destroy(),f=void 0},options:function(e){a=e},afterCreate:c(p.watch),beforeShow:c(g.watch),afterShow:c(h.watch),beforeClose:c(b.watch),afterClose:c(k.watch)};return S}n.div=function(e){var t=a.createElement("div");return(e||a.body).appendChild(t),new n(t)},n.prototype={child:function(){return n.div(this.elem)},stylize:function(e){e=e||{},"undefined"!=typeof e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")");for(var a in e)e.hasOwnProperty(a)&&(this.elem.style[a]=e[a]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(e){return t(e)?this.elem.appendChild(e):this.elem.innerHTML=e,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){a.body.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,a){return this.elem.setAttribute(e,a),this},anyAncestor:function(e){for(var a=this.elem;a;){if(e(new n(a)))return!0;a=a.parentNode}return!1}},"function"==typeof e.define&&e.define.amd?e.define(function(){return s}):e.picoModal=s}(window,document);