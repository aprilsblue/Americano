!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("javascript",function(t,a){function i(e,t,a){return me=e,pe=a,t}function n(e,t){var a=e.next();if('"'==a||"'"==a)return t.tokenize=l(a),t.tokenize(e,t);if("."==a&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==a&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(a))return i(a);if("="==a&&e.eat(">"))return i("=>","operator");if("0"==a&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(a))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==a){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),i("comment","comment");if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){e:for(var n,a=!1,s=!1;null!=(n=e.next());){if(!a){if("/"==n&&!s)break e;"["==n?s=!0:s&&"]"==n&&(s=!1)}a=!a&&"\\"==n}return e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")}return e.eatWhile(Se),i("operator","operator",e.current())}return"`"==a?(t.tokenize=r,r(e,t)):"#"==a?(e.skipToEnd(),i("error","error")):Se.test(a)?(e.eatWhile(Se),i("operator","operator",e.current())):ke.test(a)?(e.eatWhile(ke),a=e.current(),(n=ye.propertyIsEnumerable(a)&&ye[a])&&"."!=t.lastType?i(n.type,n.style,a):i("variable","variable",a)):void 0}function l(e){return function(t,a){var l,o=!1;if(be&&"@"==t.peek()&&t.match(Ce))return a.tokenize=n,i("jsonld-keyword","meta");for(;null!=(l=t.next())&&(l!=e||o);)o=!o&&"\\"==l;return o||(a.tokenize=n),i("string","string")}}function o(e,t){for(var a,l=!1;a=e.next();){if("/"==a&&l){t.tokenize=n;break}l="*"==a}return i("comment","comment")}function r(e,t){for(var a,l=!1;null!=(a=e.next());){if(!l&&("`"==a||"$"==a&&e.eat("{"))){t.tokenize=n;break}l=!l&&"\\"==a}return i("quasi","string-2",e.current())}function s(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var a=e.string.indexOf("=>",e.start);if(!(0>a)){for(var i=0,n=!1,a=a-1;0<=a;--a){var l=e.string.charAt(a),o="([{}])".indexOf(l);if(0<=o&&3>o){if(!i){++a;break}if(0==--i)break}else if(3<=o&&6>o)++i;else if(ke.test(l))n=!0;else{if(/["'\/]/.test(l))return;if(n&&!i){++a;break}}}n&&!i&&(t.fatArrowAt=a)}}function d(e,t,a,i,n,l){this.indented=e,this.column=t,this.type=a,this.prev=n,this.info=l,null!=i&&(this.align=i)}function c(){for(var e=arguments.length-1;0<=e;e--)we.cc.push(arguments[e])}function u(){return c.apply(null,arguments),!0}function m(e){function t(t){for(;t;t=t.next)if(t.name==e)return!0;return!1}var i=we.state;i.context?(we.marked="def",t(i.localVars)||(i.localVars={name:e,next:i.localVars})):!t(i.globalVars)&&a.globalVars&&(i.globalVars={name:e,next:i.globalVars})}function p(){we.state.context={prev:we.state.context,vars:we.state.localVars},we.state.localVars=Ae}function g(){we.state.localVars=we.state.context.vars,we.state.context=we.state.context.prev}function h(e,t){var a=function(){var a=we.state,i=a.indented;if("stat"==a.lexical.type)i=a.lexical.indented;else for(var n=a.lexical;n&&")"==n.type&&n.align;n=n.prev)i=n.indented;a.lexical=new d(i,we.stream.column(),e,null,a.lexical,t)};return a.lex=!0,a}function b(){var e=we.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function f(e){function t(a){return a==e?u():";"==e?c():u(t)}return t}function v(e,t){return"var"==e?u(h("vardef",t.length),V,f(";"),b):"keyword a"==e?u(h("form"),k,v,b):"keyword b"==e?u(h("form"),v,b):"{"==e?u(h("}"),O,b):";"==e?u():"if"==e?("else"==we.state.lexical.info&&we.state.cc[we.state.cc.length-1]==b&&we.state.cc.pop()(),u(h("form"),k,v,b,W)):"function"==e?u(J):"for"==e?u(h("form"),U,v,b):"variable"==e?u(h("stat"),R):"switch"==e?u(h("form"),k,h("}","switch"),f("{"),O,b,b):"case"==e?u(k,f(":")):"default"==e?u(f(":")):"catch"==e?u(h("form"),p,f("("),Q,f(")"),v,b,g):"module"==e?u(h("form"),p,ie,g,b):"class"==e?u(h("form"),X,b):"export"==e?u(h("form"),ne,b):"import"==e?u(h("form"),le,b):c(h("stat"),k,f(";"),b)}function k(e){return S(e,!1)}function y(e){return S(e,!0)}function S(e,t){if(we.state.fatArrowAt==we.stream.start){var a=t?D:F;if("("==e)return u(p,h(")"),P(K,")"),b,f("=>"),a,g);if("variable"==e)return c(p,K,f("=>"),a,g)}return a=t?A:w,Te.hasOwnProperty(e)?u(a):"function"==e?u(J,a):"keyword c"==e?u(t?T:C):"("==e?u(h(")"),C,ue,f(")"),b,a):"operator"==e||"spread"==e?u(t?y:k):"["==e?u(h("]"),de,b,a):"{"==e?N(B,"}",null,a):"quasi"==e?c(L,a):u()}function C(e){return e.match(/[;\}\)\],]/)?c():c(k)}function T(e){return e.match(/[;\}\)\],]/)?c():c(y)}function w(e,t){return","==e?u(k):A(e,t,!1)}function A(e,t,a){var i=0==a?w:A,n=0==a?k:y;if("=>"==e)return u(p,a?D:F,g);if("operator"==e)return/\+\+|--/.test(t)?u(i):"?"==t?u(k,f(":"),n):u(n);if("quasi"==e)return c(L,i);if(";"!=e){if("("==e)return N(y,")","call",i);if("."==e)return u(I,i);if("["==e)return u(h("]"),C,f("]"),b,i)}}function L(e,t){return"quasi"!=e?c():"${"!=t.slice(t.length-2)?u(L):u(k,E)}function E(e){if("}"==e)return we.marked="string-2",we.state.tokenize=r,u(L)}function F(e){return s(we.stream,we.state),c("{"==e?v:k)}function D(e){return s(we.stream,we.state),c("{"==e?v:y)}function R(e){return":"==e?u(b,v):c(w,f(";"),b)}function I(e){if("variable"==e)return we.marked="property",u()}function B(e,t){return"variable"==e||"keyword"==we.style?(we.marked="property",u("get"==t||"set"==t?x:z)):"number"==e||"string"==e?(we.marked=be?"property":we.style+" property",u(z)):"jsonld-keyword"==e?u(z):"["==e?u(k,f("]"),z):void 0}function x(e){return"variable"!=e?c(z):(we.marked="property",u(J))}function z(e){return":"==e?u(y):"("==e?c(J):void 0}function P(e,t){function a(i){return","==i?(i=we.state.lexical,"call"==i.info&&(i.pos=(i.pos||0)+1),u(e,a)):i==t?u():u(f(t))}return function(i){return i==t?u():c(e,a)}}function N(e,t,a){for(var i=3;i<arguments.length;i++)we.cc.push(arguments[i]);return u(h(t,a),P(e,t),b)}function O(e){return"}"==e?u():c(v,O)}function j(e){if(ve&&":"==e)return u(M)}function M(e){if("variable"==e)return we.marked="variable-3",u()}function V(){return c(K,j,_,q)}function K(e,t){return"variable"==e?(m(t),u()):"["==e?N(K,"]"):"{"==e?N(H,"}"):void 0}function H(e,t){return"variable"!=e||we.stream.match(/^\s*:/,!1)?("variable"==e&&(we.marked="property"),u(f(":"),K,_)):(m(t),u(_))}function _(e,t){if("="==t)return u(y)}function q(e){if(","==e)return u(V)}function W(e,t){if("keyword b"==e&&"else"==t)return u(h("form","else"),v,b)}function U(e){if("("==e)return u(h(")"),G,f(")"),b)}function G(e){return"var"==e?u(V,f(";"),Y):";"==e?u(Y):"variable"==e?u($):c(k,f(";"),Y)}function $(e,t){return"in"==t||"of"==t?(we.marked="keyword",u(k)):u(w,Y)}function Y(e,t){return";"==e?u(Z):"in"==t||"of"==t?(we.marked="keyword",u(k)):c(k,f(";"),Z)}function Z(e){")"!=e&&u(k)}function J(e,t){return"*"==t?(we.marked="keyword",u(J)):"variable"==e?(m(t),u(J)):"("==e?u(p,h(")"),P(Q,")"),b,v,g):void 0}function Q(e){return"spread"==e?u(Q):c(K,j)}function X(e,t){if("variable"==e)return m(t),u(ee)}function ee(e,t){return"extends"==t?u(k,ee):"{"==e?u(h("}"),te,b):void 0}function te(e,t){return"variable"==e||"keyword"==we.style?"static"==t?(we.marked="keyword",u(te)):(we.marked="property","get"==t||"set"==t?u(ae,J,te):u(J,te)):"*"==t?(we.marked="keyword",u(te)):";"==e?u(te):"}"==e?u():void 0}function ae(e){return"variable"!=e?c():(we.marked="property",u())}function ie(e,t){return"string"==e?u(v):"variable"==e?(m(t),u(se)):void 0}function ne(e,t){return"*"==t?(we.marked="keyword",u(se,f(";"))):"default"==t?(we.marked="keyword",u(k,f(";"))):c(v)}function le(e){return"string"==e?u():c(oe,se)}function oe(e,t){return"{"==e?N(oe,"}"):("variable"==e&&m(t),"*"==t&&(we.marked="keyword"),u(re))}function re(e,t){if("as"==t)return we.marked="keyword",u(oe)}function se(e,t){if("from"==t)return we.marked="keyword",u(k)}function de(e){return"]"==e?u():c(y,ce)}function ce(e){return"for"==e?c(ue,f("]")):","==e?u(P(T,"]")):c(P(y,"]"))}function ue(e){return"for"==e?u(U,ue):"if"==e?u(k,ue):void 0}var me,pe,ge=t.indentUnit,he=a.statementIndent,be=a.jsonld,fe=a.json||be,ve=a.typescript,ke=a.wordCharacters||/[\w$\xa1-\uffff]/,ye=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),a=e("keyword b"),i=e("keyword c"),n=e("operator"),l={type:"atom",style:"atom"},t={"if":e("if"),"while":t,"with":t,"else":a,"do":a,"try":a,"finally":a,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":n,"typeof":n,"instanceof":n,"true":l,"false":l,"null":l,undefined:l,NaN:l,Infinity:l,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":i,"export":e("export"),"import":e("import"),"extends":i};if(ve){var o,a={type:"variable",style:"variable-3"},a={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(o in a)t[o]=a[o]}return t}(),Se=/[+\-*&%=<>!?|~^]/,Ce=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},we={state:null,column:null,marked:null,cc:null},Ae={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){return e={tokenize:n,lastType:"sof",cc:[],lexical:new d((e||0)-ge,0,"block",!1),localVars:a.localVars,context:a.localVars&&{vars:a.localVars},indented:0},a.globalVars&&"object"==typeof a.globalVars&&(e.globalVars=a.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),s(e,t)),t.tokenize!=o&&e.eatSpace())return null;var a=t.tokenize(e,t);if("comment"==me)return a;t.lastType="operator"!=me||"++"!=pe&&"--"!=pe?me:"incdec";e:{var i=me,n=pe,l=t.cc;for(we.state=t,we.stream=e,we.marked=null,we.cc=l,we.style=a,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((l.length?l.pop():fe?k:v)(i,n)){for(;l.length&&l[l.length-1].lex;)l.pop()();if(we.marked){a=we.marked;break e}if(i="variable"==i)t:{for(i=t.localVars;i;i=i.next)if(i.name==n){i=!0;break t}for(l=t.context;l;l=l.prev)for(i=l.vars;i;i=i.next)if(i.name==n){i=!0;break t}i=void 0}if(i){a="variable-2";break e}break e}}return a},indent:function(t,i){if(t.tokenize==o)return e.Pass;if(t.tokenize!=n)return 0;var l=i&&i.charAt(0),r=t.lexical;if(!/^\s*else\b/.test(i))for(var s=t.cc.length-1;0<=s;--s){var d=t.cc[s];if(d==b)r=r.prev;else if(d!=W)break}return"stat"==r.type&&"}"==l&&(r=r.prev),he&&")"==r.type&&"stat"==r.prev.type&&(r=r.prev),s=r.type,d=l==s,"vardef"==s?r.indented+("operator"==t.lastType||","==t.lastType?r.info+1:0):"form"==s&&"{"==l?r.indented:"form"==s?r.indented+ge:"stat"==s?(l=r.indented,r="operator"==t.lastType||","==t.lastType||Se.test(i.charAt(0))||/[,.]/.test(i.charAt(0)),l+(r?he||ge:0)):"switch"!=r.info||d||0==a.doubleIndentSwitch?r.align?r.column+(d?0:1):r.indented+(d?0:ge):r.indented+(/^(?:case|default)\b/.test(i)?ge:2*ge)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:fe?null:"/*",blockCommentEnd:fe?null:"*/",lineComment:fe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:fe?"json":"javascript",jsonldMode:be,jsonMode:fe}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})});